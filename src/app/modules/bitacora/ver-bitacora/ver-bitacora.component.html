<div class="modal-content">
  <!--begin::Modal header-->
  <div class="modal-header" id="kt_modal_view_respuesta_header">
    <!--begin::Modal title-->
    <h2 class="fw-bolder">Detalles de la bitácora</h2>
    <!--end::Modal title-->

    <!--begin::Close-->
    <div class="btn btn-icon btn-sm btn-active-icon-primary" (click)="modal.dismiss()">
      <span class="svg-icon svg-icon-1">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)"
            fill="currentColor" />
          <rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)" fill="currentColor" />
        </svg>
      </span>
    </div>
    <!--end::Close-->
  </div>
  <!--end::Modal header-->

  <!--begin::Modal body-->
  <div class="modal-body scroll-y mx-5 my-3">
    <div class="d-flex flex-column">

      <div class="row mb-3">
        <div class="col-6">
          <label class="fw-bold fs-6">Numero de Bitácora:</label>
          <p class="form-control form-control-solid">{{ bitacora.id | rellenaZero:3 }}</p>
        </div>

        <div class="col-6">
          <label class="fw-bold fs-6">Folio de Solicitud</label>
          <p class="form-control form-control-solid text-justify">
            {{ bitacora.solicitud.folio | rellenaZero}}
          </p>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-12">
          <label class="fw-bold fs-6">Fecha</label>
          <p class="form-control form-control-solid">{{ bitacora.fecha | date:'medium'}}</p>
        </div>
      </div>

      <div class="row mb-5">
        <div class="col-12">
          <label class="fw-bold fs-6">Personal Técnico que Atendió</label>
          <div class="form-control form-control-solid h-auto">
            
            <ng-container *ngIf="bitacora.solicitud.personal_atencion?.length > 0; else noTecnicos">
              <ul class="mb-0" >
                <li *ngFor="let tecnico of bitacora.solicitud.personal_atencion" >
                 {{ tecnico.name }} {{ tecnico.surnameP }} {{ tecnico.surnameM }}
                  <span class="text-muted fs-6 ms-2">- {{ tecnico.num_empleado }}</span>
                </li>
              </ul>
            </ng-container>

            <ng-template #noTecnicos>
              <span class="text-muted fst-italic">No hay personal técnico registrado para esta solicitud.</span>
            </ng-template>

          </div>
        </div>
      </div>


      <div class="col-12">
        <label class="fw-bold fs-6">Falla/Error encontrada por el técnico</label>
        <textarea class="form-control form-control-solid text-justify" [value]="bitacora.descFalla" disabled rows="3">
            </textarea>
      </div>
      <div class="col-12">
        <label class="fw-bold fs-6">Descripción del servicio realizado</label>
        <textarea class="form-control form-control-solid text-justify" [value]="bitacora.descSolucion" disabled
          rows="4">
            </textarea>
      </div>


      <div class="row mb-3">
        <div class="col-12">
          <label class="fw-bold fs-6">Materiales requeridos</label>
          <p class="form-control form-control-solid">
            {{ bitacora.materialReq }}
          </p>
        </div>
      </div>

      <div class="fv-row row my-1">
        <label class="fw-bold fs-6 mb-2">Duración</label>
        <div class="col-6 d-flex align-items-center">
          <label class=" fw-bold fs-6 mb-2 me-2">Horas: </label>
          <p class="form-control form-control-solid mb-3 mb-lg-0" rows="2">
            {{horas}}
          </p>

        </div>

        <div class="col-6 d-flex align-items-center">
          <label class="fw-bold fs-6 mb-2 me-2">Minutos: </label>
          <p class="form-control form-control-solid mb-3 mb-lg-0" rows="2">
            {{minutos}}
          </p>
        </div>
      </div>

    </div>

    <div class="text-center">
      <button type="button" class="btn btn-light me-3" (click)="modal.dismiss()">Cerrar</button>
    </div>

  </div>
  <!--end::Modal body-->


</div>